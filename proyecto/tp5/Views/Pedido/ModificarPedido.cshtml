@model PedidoModificadoViewModel
@inject IHttpContextAccessor HttpContextAccess
@{
    ViewBag.Title = "Modificar Pedido";
    Layout = "_Layout";
}

<body>
<header>
    <h2>@ViewBag.Title</h2>
    <main>
        

            
        
        <form asp-controller="Pedido" asp-action="ModificarPedido" method="post">

            @Html.HiddenFor(model => model.Id)

            <div class="row mb-3" id="EstadoWrapper">
                <label class="col-sm-3 col-form-label" asp-for="Estado">Estado:</label>
                <div class="col-sm-6">
                    <input class="form-control" type="text" asp-for="Estado" value="@Model.Estado">
                </div>
            </div>


            <div class="row mb-3" id="ObservacionWrapper">
                <label class="col-sm-3 col-form-label" asp-for="Observacion">Observación: </label>
                <div class="col-sm-6">
                    <input class="form-control" type="text" asp-for="Observacion" value="@Model.Observacion">
                </div>
            </div>

            

            <div class="row mb-3" id="CadeteWrapper">
                <label class="col-sm-3 col-form-label" asp-for="Cadete">Cliente:</label>
                <div class="col-sm-6">
                    <select class="form-select form-select-sm" asp-for="Cadete">
                        @foreach (var cadete in Model.Cadetes)
                        {
                            @if (cadete.Id == @Model.Cadete)
                            {
                                <option value="@cadete.Id" selected>@cadete.Nombre</option>
                            }
                            else
                            {
                                <option value="@cadete.Id">@cadete.Nombre</option>
                            }
                        }
                    </select>
                </div>
            </div>

            <div class="row mb-3" id="ClienteWrapper">
                <label class="col-sm-3 col-form-label" asp-for="Cliente">Cadete:</label>
                <div class="col-sm-6">
                    <select class="form-select form-select-sm" asp-for="Cliente">
                        @foreach (var cliente in Model.Clientes)
                        {
                            @if (cliente.Id == @Model.Cliente)
                            {
                                <option value="@cliente.Id" selected>@cliente.Nombre</option>
                            }
                            else
                            {
                                <option value="@cliente.Id">@cliente.Nombre</option>
                            }
                        }
                    </select>
                </div>
            </div>


            <div class="row mb-3">
                <div class="offset-sm-3 col-sm-3 d-grid">
                    <input class="btn btn-primary" type="submit" value="Modificar">
                </div>
                <div class="col-sm-3 d-grid" >
                    <input class="btn btn-primary" id="ocultarBoton" type="reset" value="Reset">
                </div>
            </div>


        </form>
        @{
            var RoldeSesion = HttpContextAccess.HttpContext?.Session.GetString(SessionRol);
            @if (RoldeSesion == "cadete"){
                <style>
                    #ObservacionWrapper{display:none}
                    #CadeteWrapper{display:none}
                </style>
            }
            @if (RoldeSesion is null){
                    <style>
                        main{display:none}
                    </style>
            }
            

        }  
        
        
    </main>
</header>
</body>